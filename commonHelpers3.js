import{f,g as i,i as c,a as r,b as u,c as h,d as g}from"./assets/loader-CcfKKCUe.js";import{S as y,i as n}from"./assets/vendor-BpSrBs7K.js";let l="";const m=new y(".gallery a",{captionsData:"alt",captionDelay:250});let t=1,s;const b={rootMargin:"300px"},p=new IntersectionObserver(v,b);f.addEventListener("submit",d);async function d(o){if(o.preventDefault(),i.innerHTML="",t=1,c.value.trim()==="")return n.error({title:"",message:"The field can not be empty!!!",position:"topCenter",timeout:3e3,pauseOnHover:!1});l=c.value,r();try{const e=await u(l,t);e.hits.length===0?n.error({title:"",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight",timeout:3e3,pauseOnHover:!1}):(i.insertAdjacentHTML("beforeend",h(e.hits)),m.refresh(),s=e.totalHits/e.hits.length,t<s&&p.observe(g))}catch(e){alert(e.message)}finally{f.reset()}r()}async function v(o){for(const e of o)if(e.isIntersecting){t+=1;try{const a=await u(l,t);i.insertAdjacentHTML("beforeend",h(a.hits)),m.refresh(),t>=s&&a.totalHits&&(r(),p.unobserve(g),n.info({title:"",message:"We're sorry, but you've reached the end of search results!",position:"bottomRight",timeout:3e3,pauseOnHover:!1})),r()}catch(a){alert(a.message)}finally{t>=s&&r()}}}
//# sourceMappingURL=commonHelpers3.js.map
